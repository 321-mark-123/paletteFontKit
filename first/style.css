/* --- Variables & Reset --- */
:root {
    /* App Shell Colors (Neutral) */
    --ui-bg           : #f9fafb;
    --ui-surface      : #ffffff;
    --ui-text         : #111827;
    --ui-text-muted   : #6b7280;
    --ui-border       : #e5e7eb;
    --ui-accent       : #6366f1;
    --ui-accent-hover : #4f46e5;
    --ui-danger       : #ef4444;

    /* Spacing & Layout */
    --radius    : 12px;
    --shadow    : 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --container : 1024px;

    /* Fonts for UI */
    --font-ui-heading : 'Inter', sans-serif;
    --font-ui-body    : 'Source Sans 3', sans-serif;
}

/* Dark Theme Overrides */
html.theme-dark {
    --ui-bg         : #111827;
    /* Darker than #1e1e1e for depth */
    --ui-surface    : #1f2937;
    --ui-text       : #f9fafb;
    --ui-text-muted : #9ca3af;
    --ui-border     : #374151;
}

* {
    box-sizing : border-box;
    margin     : 0;
    padding    : 0;
}

body {
    background-color : var(--ui-bg);
    color            : var(--ui-text);
    font-family      : var(--font-ui-body);
    line-height      : 1.5;
    transition       : background-color 0.3s ease, color 0.3s ease;
}

/* --- Layout --- */
.app-header {
    background    : var(--ui-surface);
    border-bottom : 1px solid var(--ui-border);
    padding       : 1rem 1.5rem;
}

.header-content {
    max-width       : var(--container);
    margin          : 0 auto;
    display         : flex;
    justify-content : space-between;
    align-items     : center;
}

.logo {
    display     : flex;
    align-items : center;
    gap         : 0.75rem;
    color       : var(--ui-accent);
}

.logo h1 {
    font-family : var(--font-ui-heading);
    font-size   : 1.25rem;
    color       : var(--ui-text);
}

.app-layout {
    max-width             : var(--container);
    margin                : 2rem auto;
    padding               : 0 1.5rem;
    display               : grid;
    gap                   : 2rem;
    grid-template-columns : 1fr;
}

/* --- Controls --- */
.controls {
    display         : flex;
    flex-wrap       : wrap;
    gap             : 1rem;
    justify-content : space-between;
    align-items     : center;
}

.control-group {
    display   : flex;
    gap       : 0.75rem;
    flex-wrap : wrap;
}

.btn {
    font-family   : var(--font-ui-heading);
    font-weight   : 600;
    padding       : 0.6rem 1.2rem;
    border-radius : 8px;
    border        : 1px solid transparent;
    cursor        : pointer;
    display       : inline-flex;
    align-items   : center;
    gap           : 0.5rem;
    transition    : all 0.2s ease;
    font-size     : 0.9rem;
}

.btn:focus-visible {
    outline        : 2px solid var(--ui-accent);
    outline-offset : 2px;
}

.btn-primary {
    background : var(--ui-accent);
    color      : white;
}

.btn-primary:hover {
    background : var(--ui-accent-hover);
}

.btn-secondary {
    background   : var(--ui-surface);
    border-color : var(--ui-border);
    color        : var(--ui-text);
}

.btn-secondary:hover {
    border-color : var(--ui-accent);
}

.btn-outline {
    background   : transparent;
    border-color : transparent;
    color        : var(--ui-text-muted);
}

.btn-outline:hover {
    color      : var(--ui-accent);
    background : rgba(99, 102, 241, 0.1);
}

.btn-icon {
    background    : none;
    border        : none;
    cursor        : pointer;
    color         : var(--ui-text);
    padding       : 0.5rem;
    border-radius : 50%;
}

.btn-icon:hover {
    background-color : var(--ui-border);
}

.kbd {
    font-size     : 0.7rem;
    background    : rgba(0, 0, 0, 0.1);
    padding       : 0.1rem 0.4rem;
    border-radius : 4px;
    opacity       : 0.7;
}

/* --- Card Styles --- */
.card {
    background    : var(--ui-surface);
    border        : 1px solid var(--ui-border);
    border-radius : var(--radius);
    padding       : 1.5rem;
    box-shadow    : var(--shadow);
}

/* --- Preview Area (The generated output) --- */
.preview-container {
    /* Defaults to be overridden by JS */
    --gen-bg     : #ffffff;
    --gen-text   : #000000;
    --gen-accent : #6366f1;
    --gen-h-font : 'Inter';
    --gen-b-font : 'Source Sans 3';

    background-color : var(--gen-bg);
    color            : var(--gen-text);
    transition       : background-color 0.3s ease, color 0.3s ease;
    min-height       : 300px;
    display          : flex;
    flex-direction   : column;
    gap              : 1.5rem;
}

.preview-header {
    display         : flex;
    justify-content : space-between;
    font-size       : 0.75rem;
    text-transform  : uppercase;
    letter-spacing  : 0.05em;
    opacity         : 0.6;
    border-bottom   : 1px solid currentColor;
    padding-bottom  : 0.5rem;
}

.preview-content {
    display         : flex;
    flex-direction  : column;
    gap             : 1rem;
    flex            : 1;
    justify-content : center;
}

.preview-content h2 {
    font-family   : var(--gen-h-font);
    font-size     : clamp(2rem, 5vw, 3rem);
    line-height   : 1.1;
    margin-bottom : 0.5rem;
}

.preview-content p {
    font-family : var(--gen-b-font);
    font-size   : 1.1rem;
    max-width   : 65ch;
    line-height : 1.6;
    opacity     : 0.9;
}

.preview-content .lead {
    font-size   : 1.25rem;
    font-weight : 500;
}

.preview-actions {
    margin-top : 1.5rem;
    display    : flex;
    gap        : 1rem;
}

.preview-btn {
    background    : var(--gen-accent);
    color         : var(--gen-bg);
    /* Simplified contrast strategy */
    border        : none;
    padding       : 0.8rem 1.5rem;
    font-family   : var(--gen-b-font);
    font-weight   : bold;
    border-radius : 4px;
    /* Generic radius for preview */
    cursor        : pointer;
    filter        : brightness(1);
    transition    : filter 0.2s;
}

.preview-btn:hover {
    filter : brightness(0.9);
}

.preview-btn-sec {
    background    : transparent;
    color         : inherit;
    border        : 2px solid currentColor;
    padding       : 0.8rem 1.5rem;
    font-family   : var(--gen-b-font);
    font-weight   : bold;
    border-radius : 4px;
    cursor        : pointer;
}

/* --- Palette Grid --- */
.palette-grid {
    display               : grid;
    grid-template-columns : repeat(auto-fit, minmax(150px, 1fr));
    gap                   : 1rem;
    margin-top            : 1rem;
}

.swatch {
    border-radius : 8px;
    overflow      : hidden;
    background    : var(--ui-surface);
    border        : 1px solid var(--ui-border);
    cursor        : pointer;
    transition    : transform 0.2s ease;
}

.swatch:hover,
.swatch:focus {
    transform : translateY(-4px);
    outline   : 2px solid var(--ui-accent);
}

.swatch-color {
    height   : 80px;
    width    : 100%;
    position : relative;
}

.swatch-info {
    padding        : 0.75rem;
    display        : flex;
    flex-direction : column;
    gap            : 0.25rem;
}

.hex-code {
    font-family : monospace;
    font-weight : bold;
    font-size   : 0.9rem;
}

.contrast-badges {
    display    : flex;
    gap        : 0.25rem;
    margin-top : 0.25rem;
}

.badge-pill {
    font-size      : 0.6rem;
    padding        : 2px 6px;
    border-radius  : 99px;
    font-weight    : bold;
    text-transform : uppercase;
}

.badge-pass {
    background : #dcfce7;
    color      : #166534;
    border     : 1px solid #bbf7d0;
}

.badge-fail {
    background : #fee2e2;
    color      : #991b1b;
    border     : 1px solid #fecaca;
}

/* --- Favorites --- */
.favorites-list {
    display : grid;
    gap     : 0.75rem;
}

.fav-item {
    display         : flex;
    align-items     : center;
    justify-content : space-between;
    padding         : 0.75rem;
    background      : var(--ui-surface);
    border          : 1px solid var(--ui-border);
    border-radius   : 8px;
}

.fav-preview {
    display : flex;
    gap     : 4px;
}

.mini-swatch {
    width         : 20px;
    height        : 20px;
    border-radius : 50%;
    border        : 1px solid rgba(0, 0, 0, 0.1);
}

.fav-info {
    flex      : 1;
    margin    : 0 1rem;
    font-size : 0.9rem;
}

.fav-actions button {
    margin-left : 0.5rem;
    font-size   : 0.8rem;
    padding     : 4px 8px;
}

/* --- Footer & Toast --- */
.app-footer {
    text-align     : center;
    color          : var(--ui-text-muted);
    font-size      : 0.85rem;
    margin-top     : 3rem;
    padding-bottom : 2rem;
}

.toast {
    position      : fixed;
    bottom        : 2rem;
    left          : 50%;
    transform     : translateX(-50%) translateY(100px);
    background    : var(--ui-text);
    color         : var(--ui-bg);
    padding       : 0.75rem 1.5rem;
    border-radius : 50px;
    font-weight   : 600;
    opacity       : 0;
    transition    : all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    z-index       : 100;
}

.toast.visible {
    transform : translateX(-50%) translateY(0);
    opacity   : 1;
}

@media (prefers-reduced-motion: reduce) {
    * {
        transition : none !important;
        animation  : none !important;
    }
}